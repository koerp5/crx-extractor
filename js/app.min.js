$((function(){var e=$(".download-crx"),o=$(".download-crx-ok"),t=$("#crx-download-input"),r=$(".download-crx-err");o.click((function(){r.fadeOut("fast");var n,i=function(e){var o=document.createElement("a");if(o.href=e,"chrome.google.com"==o.host||"chromewebstore.google.com"==o.host){var t=o.pathname;return"/"==t.slice(-1)&&(t=t.slice(0,-1)),t.split("/").pop()}}(t.val()),a=function(e){return"https://clients2.google.com/service/update2/crx?response=redirect&prodversion=49.0&acceptformat=crx3&x=id%3D***%26installsource%3Dondemand%26uc".replace("***",e)}(i);return i&&a?(e.attr("href",a),e.prop("download","extension.crx"),o.fadeOut("fast",(function(){e.fadeIn("fast")})),!0):(n="The provided link is not a Chrome Extension link from Chrome WebStore.",console.error(n),r.find("p").html(n),void r.fadeIn("fast"))})),e.click((function(){e.fadeOut("fast",(function(){o.fadeIn("fast"),t.val("")}))}))}));var CRXFileParser=function(e){var o=this;o.file=e,this._formatUint32=function(e){for(var o=e.toString(16);o.length<8;)o="0"+o;return"0x"+o},this._formatCharString=function(e){var o=this._formatUint32(e);o=o.substr(2,8);for(var t="",r=0;r<4;r++)t+=String.fromCharCode(parseInt(o.substr(r<<1,2),16));return t},this.parse=function(e,o){var t=e.getUint32(0);if(1131557428==t){console.info("Magic is OK: "+this._formatUint32(t)+" "+this._formatCharString(t));var r=e.getUint32(4);if(console.info("Version is: "+this._formatUint32(r)),r<=2){var n=e.getUint32(8,!0);console.info("Public key length: "+n);var i=e.getUint32(12,!0);console.info("Signature length: "+i);var a=o.slice(16,16+n),s=o.slice(16+n,16+n+i);return[o.slice(16+n+i),a,s]}var l=e.getUint32(8,!0);return console.info("Header length: "+l),[o.slice(12+l),void 0,void 0]}console.error("Magic is broken: "+this._formatUint32(t)+" "+this._formatCharString(t))},this.load=function(e){var t=e,r=new FileReader;r.onload=function(e){var r=e.target.result,n=new DataView(r);t(o.parse(n,r))},r.onerror=function(e){t(void 0)},r.readAsArrayBuffer(this.file)}};$((function(){var e="mouse-over",o=$("#drop-zone"),t=o.find("input"),r=$(o).find(".download"),n=$(o).find(".thanks"),i=$(o).find(".ui-wrapper"),a=$(".download-source-err");function s(e){console.error("User error message: "+e),a.find("p").html(e),a.fadeIn("fast")}function l(){a.fadeOut("fast")}function c(e){".CRX"==function(e){return e.name.substr(e.name.length-4).toUpperCase()}(e)?new CRXFileParser(e).load((function(o){if(o){var t=o[0],n=new Blob([t],{type:"application/zip"});r.fadeIn("fast"),i.fadeOut("fast"),r.attr("href",URL.createObjectURL(n)),r.prop("download",function(e){var o=e.name.split(".");return o.pop(),o.join(".")}(e)+".zip")}else s("Unable to parse this file. The file may be broken or unknown error has occured.")})):s("This file seems to be of different file format. Please provide valid .CRX file.")}$(r).click((function(e){r.fadeOut("fast",(function(){n.fadeIn("slow",(function(){n.fadeOut("slow",(function(){i.fadeIn("slow")}))}))}))})),$(o).on("dragover",(function(t){t.preventDefault(),t.stopPropagation(),o.addClass(e)})),$(o).on("dragleave",(function(t){t.preventDefault(),t.stopPropagation(),o.removeClass(e)})),$(t).on("change",(function(e){l();var o=$(t).prop("files");o.length>1||0==o.length?s("You should put only one .CRX file a time."):c(o[0])})),$("html").on("drop",(function(t){(t.preventDefault(),t.stopPropagation(),l(),o.removeClass(e),void 0!==typeof t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.files.length>0)?1==t.originalEvent.dataTransfer.files.length?c(t.originalEvent.dataTransfer.files[0]):s("You should put only one .CRX file a time."):s("Only .CRX files supported!")}))})),$((function(){var e=$(".cta-button"),o=$(".welcome"),t=$(".tool"),r=$("#crx-suggestion .name"),n=$("#crx-suggestion .link"),i=$("#crx-suggestion i"),a=[["Dark Reader","https://chromewebstore.google.com/webstore/detail/dark-reader/eimadpbcbfnmbkopoojfekhnkhdbieeh"],["Custom Cursor For Chrome","https://chromewebstore.google.com/webstore/detail/custom-cursor-for-chrome/ogdlpmhglpejoiomcodnpjnfgcpmgale"],["Block Site","https://chromewebstore.google.com/webstore/detail/block-site-website-blocke/eiimnmioipafcokbfikbljfdeojpcgbh"],["AdBlock Plus","https://chromewebstore.google.com/webstore/detail/adblock-plus/cfhdojbkjhnklbpkdaibdccddilifddb"],["Blur","https://chromewebstore.google.com/webstore/detail/blur/epanfjkfahimkgomnigadpkobaefekcd"],["LastPass Free Password Manager","https://chromewebstore.google.com/webstore/detail/lastpass-free-password-ma/hdokiejnpimakedhajhdlcegeplioahd"],["Mercury Reader","https://chromewebstore.google.com/webstore/detail/mercury-reader/oknpjjbmpnndlpmnhmekjpocelpnlfdi"],["Pixlr","https://chromewebstore.google.com/webstore/detail/pixlr-editor/icmaknaampgiegkcjlimdiidlhopknpk"],["Pushbullet","https://chromewebstore.google.com/webstore/detail/pushbullet/chlffgpmiacpedhhbkiomidkjlcfhogd/"],["Awesome Screenshot","https://chromewebstore.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj"],["ColorZilla","https://chromewebstore.google.com/webstore/detail/colorzilla/bhlhnicpbhignbdhedgjhgdocnmhomnp"]],s=0;function l(){var e=a[(s+=1)%a.length];$(r).html(e[0]),$(n).html(e[1])}$(i).click((function(){l()})),$(n).click((function(){$("#crx-download-input").val($(n).html())})),e.click((function(){o.fadeOut("fast",(function(){t.fadeIn("fast")}))})),l()}));
